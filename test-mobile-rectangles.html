<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Test Mobile Rectangles</title>
    <style>
      body {
        margin: 0;
        padding: 20px;
        font-family: system-ui, -apple-system, sans-serif;
        background: #1a1a1a;
        color: white;
      }

      .test-info {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        background: rgba(0, 0, 0, 0.9);
        padding: 15px;
        z-index: 100000;
        border-bottom: 2px solid #00ffbc;
      }

      .test-info h2 {
        margin: 0 0 10px 0;
        color: #00ffbc;
        font-size: 16px;
      }

      .test-info div {
        margin: 5px 0;
        font-size: 14px;
      }

      .breakpoint {
        font-weight: bold;
        color: #ffff78;
      }

      .active {
        color: #00ffbc;
      }

      .inactive {
        color: #ff83a2;
      }

      iframe {
        margin-top: 150px;
        width: 100%;
        border: 2px solid #00ffbc;
        background: white;
      }

      .button-group {
        margin: 10px 0;
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
      }

      button {
        padding: 8px 16px;
        background: #27a9ff;
        border: none;
        border-radius: 4px;
        color: white;
        cursor: pointer;
        font-size: 14px;
      }

      button:hover {
        background: #1e8dd9;
      }
    </style>
  </head>
  <body>
    <div class="test-info">
      <h2>🧪 Intro Rectangles Mobile Test</h2>
      <div>
        <strong>Window Width:</strong>
        <span id="width" class="breakpoint">0</span>px
      </div>
      <div>
        <strong>Smallest Breakpoints (≤600px):</strong>
        <span id="smallest" class="inactive">NO</span>
      </div>
      <div>
        <strong>Mobile Layout (≤899px):</strong>
        <span id="mobile" class="inactive">NO</span>
      </div>
      <div>
        <strong>Expected Behavior:</strong>
        <span id="behavior">Desktop mode</span>
      </div>

      <div class="button-group">
        <button onclick="setWidth(360)">360px (iPhone SE)</button>
        <button onclick="setWidth(375)">375px (iPhone 12)</button>
        <button onclick="setWidth(414)">414px (iPhone 14 Plus)</button>
        <button onclick="setWidth(600)">600px (boundary)</button>
        <button onclick="setWidth(768)">768px (iPad)</button>
        <button onclick="setWidth(900)">900px (boundary)</button>
        <button onclick="setWidth(1200)">1200px (Desktop)</button>
      </div>

      <div style="margin-top: 10px; font-size: 12px; opacity: 0.7">
        💡 Scroll down to the Intro section and click on rectangles to test
      </div>
    </div>

    <iframe id="app-frame" src="http://localhost:5174/" height="800"></iframe>

    <script>
      function updateInfo() {
        const width = window.innerWidth;
        const isSmallest = width <= 600;
        const isMobile = width <= 899;

        document.getElementById("width").textContent = width;

        const smallestEl = document.getElementById("smallest");
        smallestEl.textContent = isSmallest ? "YES" : "NO";
        smallestEl.className = isSmallest ? "active" : "inactive";

        const mobileEl = document.getElementById("mobile");
        mobileEl.textContent = isMobile ? "YES" : "NO";
        mobileEl.className = isMobile ? "active" : "inactive";

        let behavior = "";
        if (isSmallest) {
          behavior = "🎯 Fullscreen modal with close button";
        } else if (isMobile) {
          behavior = "📱 Mobile layout with close button";
        } else {
          behavior = "🖥️ Desktop with hover and rotation";
        }
        document.getElementById("behavior").textContent = behavior;
      }

      function setWidth(width) {
        window.resizeTo(width + 20, window.outerHeight);
        setTimeout(updateInfo, 100);
      }

      window.addEventListener("resize", updateInfo);
      updateInfo();
    </script>
  </body>
</html>
