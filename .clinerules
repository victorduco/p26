# Claude Code Rules –¥–ª—è Performance Testing

## Performance —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ö–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞—Ç—å —Ç–µ—Å—Ç—ã
- –ü–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏/–∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∞–Ω–∏–º–∞—Ü–∏–π –∏–ª–∏ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
- –ü–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º Pull Request

### Workflow –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **–°–æ–∑–¥–∞–Ω–∏–µ baseline**
```bash
npm run test:perf -- --comment="Baseline: –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏"
```

2. **–í–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥**
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤

3. **–¢–µ—Å—Ç –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π**
```bash
npm run test:perf -- --comment="–ü–æ—Å–ª–µ: –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"
```

4. **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**
```bash
npm run test:compare
```

### –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫

#### ‚úÖ –•–æ—Ä–æ—à–æ
- –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è —Ä–µ—Å–∞–π–∑–∞: <100ms
- FPS: >30
- –î–µ–≥—Ä–∞–¥–∞—Ü–∏—è: <20%
- –ü–∞–º—è—Ç—å: <80%

#### ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è
- –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è: 100-500ms
- FPS: 15-30
- –î–µ–≥—Ä–∞–¥–∞—Ü–∏—è: 20-100%
- –ü–∞–º—è—Ç—å: 80-90%

#### üö® –ö—Ä–∏—Ç–∏—á–Ω–æ
- –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è: >500ms
- FPS: <15
- –î–µ–≥—Ä–∞–¥–∞—Ü–∏—è: >100%
- –ü–∞–º—è—Ç—å: >90%

### –ü–æ–∏—Å–∫ –ø—Ä–æ–±–ª–µ–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

–ï—Å–ª–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è:

1. –ü—Ä–æ–≤–µ—Ä—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏:
   - `<Keypad>` - glass-effect, –∞–Ω–∏–º–∞—Ü–∏–∏
   - `<GeFilter>` - SVG —Ñ–∏–ª—å—Ç—Ä—ã
   - `<BgToSvg>` - –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ SVG

2. –ü—Ä–æ–≤–µ—Ä—å –¥–∏—Ä–µ–∫—Ç–∏–≤—ã:
   - `v-mask-element` - resize observers
   - `v-hover-distortion` - mouse events
   - `v-glass-effect` - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã

3. –û—Ç–∫–ª—é—á–∞–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ:
```bash
# –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ App.vue
npm run test:perf -- --comment="–ë–µ–∑ Keypad"
npm run test:compare
```

4. –ü—Ä–æ–≤–µ—Ä—è–π resize —Å–æ–±—ã—Ç–∏—è:
```bash
# –ü–æ–∏—Å–∫ –≤—Å–µ—Ö resize —Å–ª—É—à–∞—Ç–µ–ª–µ–π
grep -r "resize" src/ --include="*.vue" --include="*.js"
```

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

1. **–£–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ resize listeners**
   - –î–µ–±–∞—É–Ω—Å–∏–Ω–≥ —Å–æ–±—ã—Ç–∏–π
   - –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ–Ω—É–∂–Ω—ã—Ö observers

2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞**
   - –ú–µ–º–æ–∏–∑–∞—Ü–∏—è computed —Å–≤–æ–π—Å—Ç–≤
   - –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∫–æ–≤
   - Lazy loading –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

3. **–ü–∞–º—è—Ç—å**
   - –û—á–∏—Å—Ç–∫–∞ listeners –≤ onUnmounted
   - –û—Ç–º–µ–Ω–∞ –∞–Ω–∏–º–∞—Ü–∏–π –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Ç–µ—á–µ–∫ –≤ DevTools

### –§–∞–π–ª—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

–ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–æ–≤–µ—Ä—å:
- `src/App.vue` - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- `src/components/keypad/Keypad.vue` - —Ç—è–∂–µ–ª—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- `src/components/glass-effect/*.vue` - SVG —Ñ–∏–ª—å—Ç—Ä—ã
- `src/directives/*.js` - –¥–∏—Ä–µ–∫—Ç–∏–≤—ã —Å —Å–æ–±—ã—Ç–∏—è–º–∏
- `src/pages/main-page/**` - –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

–î–ª—è CI/CD –¥–æ–±–∞–≤—å –≤ workflow:
```yaml
- name: Performance Test
  run: |
    npm run dev &
    sleep 5
    npm run test:perf:headless -- --comment="CI: ${{ github.sha }}"
    npm run test:compare || echo "Warning: Performance regression detected"
```

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `tests/e2e/README.md`
- –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è: `tests/e2e/README.md#—Ç–∏–ø–∏—á–Ω—ã–µ-—Å—Ü–µ–Ω–∞—Ä–∏–∏`
- Troubleshooting: `tests/e2e/README.md#troubleshooting`
